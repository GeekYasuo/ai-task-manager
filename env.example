# AI Task Manager Environment Configuration
# Copy this file to .env and fill in your actual values

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
DATABASE_URL=postgresql://taskuser:taskpass@localhost:5432/aitaskdb
DB_HOST=localhost
DB_PORT=5432
DB_NAME=aitaskdb
DB_USER=taskuser
DB_PASSWORD=taskpass
DB_SSL=false

# ===========================================
# REDIS CONFIGURATION
# ===========================================
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ===========================================
# AI/ML SERVICES
# ===========================================
# Get your OpenAI API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=1000
OPENAI_TEMPERATURE=0.3

# TensorFlow.js settings
TF_CPP_MIN_LOG_LEVEL=2
TF_ENABLE_ONEDNN_OPTS=1

# ===========================================
# SECURITY CONFIGURATION
# ===========================================
# Generate a strong secret: openssl rand -base64 32
JWT_SECRET=your_super_secret_jwt_key_at_least_32_characters_long
JWT_EXPIRE=7d
JWT_REFRESH_EXPIRE=30d
BCRYPT_ROUNDS=12

# Session settings
SESSION_SECRET=your_session_secret_here
SESSION_SECURE=false
SESSION_SAME_SITE=lax

# ===========================================
# APPLICATION SETTINGS
# ===========================================
NODE_ENV=development
PORT=3001
HOST=localhost
API_PREFIX=/api
API_VERSION=v1

# Frontend URL for CORS
FRONTEND_URL=http://localhost:3000
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# File upload settings
MAX_FILE_SIZE=10485760
UPLOAD_PATH=./uploads
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,doc,docx

# ===========================================
# EMAIL CONFIGURATION (Optional)
# ===========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
EMAIL_FROM="AI Task Manager" <noreply@aitaskmanager.com>

# SendGrid alternative
SENDGRID_API_KEY=your_sendgrid_api_key_here

# ===========================================
# RATE LIMITING
# ===========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL=true

# API specific limits
RATE_LIMIT_API_WINDOW_MS=60000
RATE_LIMIT_API_MAX=60

# AI endpoints (more restrictive)
RATE_LIMIT_AI_WINDOW_MS=300000
RATE_LIMIT_AI_MAX=20

# ===========================================
# LOGGING CONFIGURATION
# ===========================================
LOG_LEVEL=info
LOG_FORMAT=combined
LOG_FILE=logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# Enable different log types
LOG_REQUESTS=true
LOG_ERRORS=true
LOG_AI_CALLS=true
LOG_DB_QUERIES=false

# ===========================================
# MONITORING & ANALYTICS
# ===========================================
ENABLE_METRICS=true
METRICS_PORT=9464
HEALTH_CHECK_INTERVAL=30000

# Sentry for error tracking (optional)
SENTRY_DSN=your_sentry_dsn_here
SENTRY_ENVIRONMENT=development

# ===========================================
# EXTERNAL SERVICES
# ===========================================
# Slack integration (optional)
SLACK_WEBHOOK_URL=your_slack_webhook_url
SLACK_BOT_TOKEN=your_slack_bot_token

# Google Calendar integration (optional)
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# GitHub integration (optional)
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret

# ===========================================
# DEVELOPMENT SETTINGS
# ===========================================
# Hot reload settings
CHOKIDAR_USEPOLLING=false
WATCHPACK_POLLING=false

# Debug settings
DEBUG=app:*
DEBUG_COLORS=true

# Testing
TEST_DATABASE_URL=postgresql://taskuser:taskpass@localhost:5432/aitaskdb_test
TEST_TIMEOUT=30000

# ===========================================
# PRODUCTION OVERRIDES
# ===========================================
# Uncomment and modify for production

# NODE_ENV=production
# PORT=3001
# JWT_SECRET=generate_new_production_secret
# DATABASE_URL=your_production_database_url
# REDIS_URL=your_production_redis_url
# FRONTEND_URL=https://your-domain.com
# SESSION_SECURE=true
# LOG_LEVEL=warn
# RATE_LIMIT_MAX_REQUESTS=50

# ===========================================
# DOCKER SETTINGS
# ===========================================
# These are used by docker-compose

COMPOSE_PROJECT_NAME=ai-task-manager
POSTGRES_DB=aitaskdb
POSTGRES_USER=taskuser
POSTGRES_PASSWORD=taskpass

# ===========================================
# INSTRUCTIONS
# ===========================================
# 1. Copy this file to .env
# 2. Update all "your_*_here" values with actual credentials
# 3. Generate secure secrets for JWT_SECRET and SESSION_SECRET
# 4. Get OpenAI API key from https://platform.openai.com/api-keys
# 5. Set up database and Redis (or use Docker)
# 6. Configure email settings for notifications (optional)
# 7. Never commit .env file to version control

# Security Note: 
# - Use strong, unique passwords and secrets
# - Rotate secrets regularly in production
# - Use environment-specific configurations
# - Enable 2FA on all service accounts